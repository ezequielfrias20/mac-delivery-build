(this.webpackJsonpMac=this.webpackJsonpMac||[]).push([[32],{1039:function(e,t,a){"use strict";a.r(t);var r=a(22),n=a(15),c=a(12),s=a.n(c),i=a(0),o=a(36),l=a(142),u=a(476),d=a(548),b=a(966),j=a(551),h=a(666),p=a(556),O=a(1031),v=a(1050),m=a(89),f=a(217),x=a(216),g=a(141),y=a(23),w=a(88),P=a(549),S=a(529),C=a(671),R=a(1045),k=a(1049),M=a(1047),A=a(1048),E=a(1046),L=a(537),I=a(547),z=a(1034),B=a(571),N=a(581),T=a(144),D=a(213),_=a(1),W=["customers"],H=[{label:"M\xe1s recientes",value:"updatedAt|desc"},{label:"Menos recientes",value:"updatedAt|asc"},{label:"Total",value:"orders|desc"},{label:"Total",value:"orders|asc"}],F=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},J=function(e,t){var a=t.split("|"),r=Object(n.a)(a,2),c=r[0],s=function(e,t){return"desc"===e?function(e,a){return F(e,a,t)}:function(e,a){return-F(e,a,t)}}(r[1],c),i=e.map((function(e,t){return[e,t]}));return i.sort((function(e,t){var a=s(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),i.map((function(e){return e[0]}))},U=function(e){var t=e.customers,a=Object(w.a)(e,W),r=[],c=Object(i.useState)(0),s=Object(n.a)(c,2),l=s[0],d=s[1],b=Object(i.useState)(5),h=Object(n.a)(b,2),O=h[0],v=h[1],m=Object(i.useState)(""),f=Object(n.a)(m,2),x=f[0],g=f[1],F=Object(i.useState)(H[0].value),U=Object(n.a)(F,2),V=U[0],q=U[1],G=Object(i.useState)({hasAcceptedMarketing:null,isProspect:null,isReturning:null}),K=function(e,t,a){return e.filter((function(e){var r=!0;if(t){var n=!1;["brand_name","client_name","model_name","tag"].forEach((function(a){e[a].toLowerCase().includes(t.toLowerCase())&&(n=!0)})),n||(r=!1)}return Object.keys(a).forEach((function(t){var n=a[t];n&&e[t]!==n&&(r=!1)})),r}))}(t,x,Object(n.a)(G,1)[0]),Q=function(e,t,a){return e.slice(t*a,t*a+a)}(J(K,V),l,O);return Object(_.jsxs)(P.a,Object(y.a)(Object(y.a)({},a),{},{children:[Object(_.jsxs)(u.a,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1,p:2},children:[Object(_.jsx)(u.a,{sx:{m:1,maxWidth:"100%",width:500},children:Object(_.jsx)(S.a,{fullWidth:!0,InputProps:{startAdornment:Object(_.jsx)(C.a,{position:"start",children:Object(_.jsx)(N.a,{fontSize:"small"})})},onChange:function(e){g(e.target.value)},placeholder:"Buscar...",value:x,variant:"outlined"})}),Object(_.jsx)(u.a,{sx:{m:1,width:240},children:Object(_.jsx)(S.a,{label:"Ordenar Por",name:"sort",onChange:function(e){q(e.target.value)},select:!0,SelectProps:{native:!0},value:V,variant:"outlined",children:H.map((function(e){return Object(_.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]}),Object(_.jsx)(D.a,{children:Object(_.jsx)(u.a,{sx:{minWidth:700},children:Object(_.jsxs)(R.a,{children:[Object(_.jsx)(k.a,{children:Object(_.jsxs)(M.a,{children:[Object(_.jsx)(A.a,{children:"Nombre"}),Object(_.jsx)(A.a,{children:"Dni"}),Object(_.jsx)(A.a,{children:"Telefono"}),Object(_.jsx)(A.a,{children:"Score"}),Object(_.jsx)(A.a,{align:"right",children:"Acciones"})]})}),Object(_.jsx)(E.a,{children:Q.map((function(e){var t=r.includes(e.id);return Object(_.jsxs)(M.a,{hover:!0,selected:t,children:[Object(_.jsx)(A.a,{children:Object(_.jsxs)(u.a,{sx:{alignItems:"center",display:"flex"},children:[Object(_.jsx)(L.a,{src:e.vehicle_image,sx:{height:42,width:42},children:Object(T.a)(e.name)}),Object(_.jsxs)(u.a,{sx:{ml:1},children:[Object(_.jsx)(p.a,{color:"inherit",component:o.b,to:"/dashboard/taller/vehiculos/detalles/".concat(e.id),variant:"subtitle2",children:e.name}),Object(_.jsx)(j.a,{color:"textSecondary",variant:"body2",children:e.lastname})]})]})}),Object(_.jsx)(A.a,{children:"".concat(e.dni)}),Object(_.jsx)(A.a,{children:"".concat(e.phone)}),Object(_.jsx)(A.a,{children:e.score}),Object(_.jsx)(A.a,{align:"right",children:Object(_.jsx)(I.a,{component:o.b,to:"/dashboard/drivers/detail/".concat(e.id),children:Object(_.jsx)(B.a,{fontSize:"small"})})})]},e.id)}))})]})})}),Object(_.jsx)(z.a,{component:"div",count:K.length,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){v(parseInt(e.target.value,10))},page:l,rowsPerPage:O,rowsPerPageOptions:[5,10,25]})]}))},V=a(918),q=[{label:"Activos",value:"activos"},{label:"Inactivos",value:"inactivos"},{label:"Solicitudes",value:"solicitudes"}];t.default=function(){var e=Object(m.a)(),t=new V.a,a=Object(x.a)().settings,c=Object(i.useState)("activos"),y=Object(n.a)(c,2),w=y[0],P=y[1],S=Object(i.useState)([]),C=Object(n.a)(S,2),R=C[0],k=C[1],M=Object(i.useState)([]),A=Object(n.a)(M,2),E=A[0],L=A[1],I=Object(i.useState)([]),z=Object(n.a)(I,2),B=z[0],N=z[1];Object(i.useEffect)((function(){g.a.push({event:"page_view"})}),[]);var T=Object(i.useCallback)(Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.getAllDrivers().then((function(e){var t=[];k(e),e.forEach((function(e){e.flag_terms_accepted&&t.push(e)})),console.log(t),N(t)})),L([])}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)}))),[e]);return Object(i.useEffect)((function(){T()}),[T]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.a,{children:Object(_.jsx)("title",{children:"Dashboard: Drivers | Mac Admin"})}),Object(_.jsx)(u.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:8},children:Object(_.jsxs)(d.a,{maxWidth:!!a.compact&&"xl",children:[Object(_.jsx)(b.a,{container:!0,justifyContent:"space-between",spacing:3,children:Object(_.jsxs)(b.a,{item:!0,children:[Object(_.jsx)(j.a,{color:"textPrimary",variant:"h5",children:"Lista de Drivers"}),Object(_.jsxs)(h.a,{"aria-label":"breadcrumb",separator:Object(_.jsx)(f.a,{fontSize:"small"}),sx:{mt:1},children:[Object(_.jsx)(p.a,{color:"textPrimary",component:o.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(_.jsx)(j.a,{color:"textSecondary",variant:"subtitle2",children:"Lista de Drivers"})]})]})}),Object(_.jsxs)(u.a,{sx:{mt:3},children:[Object(_.jsx)(u.a,{sx:{mb:3},children:Object(_.jsx)(O.a,{indicatorColor:"primary",onChange:function(e,t){P(t)},scrollButtons:"auto",textColor:"primary",value:w,variant:"scrollable",children:q.map((function(e){return Object(_.jsx)(v.a,{label:e.label,value:e.value},e.value)}))})}),"activos"===w&&Object(_.jsx)(U,{customers:R}),"inactivos"===w&&Object(_.jsx)(U,{customers:E}),"solicitudes"===w&&Object(_.jsx)(U,{customers:B})]})]})})]})}},571:function(e,t,a){"use strict";var r=a(30),n=a(1),c=Object(r.a)(Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),"ArrowRight");t.a=c},581:function(e,t,a){"use strict";var r=a(30),n=a(1),c=Object(r.a)(Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search");t.a=c},666:function(e,t,a){"use strict";var r=a(33),n=a(15),c=a(4),s=a(6),i=a(2),o=a(0),l=(a(128),a(11)),u=a(517),d=a(7),b=a(13),j=a(551),h=a(26),p=a(30),O=a(1),v=Object(p.a)(Object(O.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),m=a(533),f=Object(d.a)(m.a,{},{skipSx:!0})((function(e){var t=e.theme;return Object(i.a)({display:"flex",marginLeft:t.spacing(.5),marginRight:t.spacing(.5)},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":Object(i.a)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":Object(i.a)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:Object(h.c)(t.palette.grey[200],.12)}:{backgroundColor:Object(h.c)(t.palette.grey[600],.12)})})})),x=Object(d.a)(v)({width:24,height:16});var g=function(e){var t=e;return Object(O.jsx)("li",{children:Object(O.jsx)(f,Object(i.a)({focusRipple:!0},e,{styleProps:t,children:Object(O.jsx)(x,{styleProps:t})}))})},y=a(478),w=a(518);function P(e){return Object(y.a)("MuiBreadcrumbs",e)}var S=Object(w.a)("MuiBreadcrumbs",["root","ol","li","separator"]),C=Object(d.a)(j.a,{},{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return Object(i.a)(Object(c.a)({},"& .".concat(S.li),t.li),t.root)}})({}),R=Object(d.a)("ol",{},{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),k=Object(d.a)("li",{},{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function M(e,t,a,r){return e.reduce((function(n,c,s){return s<e.length-1?n=n.concat(c,Object(O.jsx)(k,{"aria-hidden":!0,className:t,styleProps:r,children:a},"separator-".concat(s))):n.push(c),n}),[])}var A=o.forwardRef((function(e,t){var a=Object(b.a)({props:e,name:"MuiBreadcrumbs"}),c=a.children,d=a.className,j=a.component,h=void 0===j?"nav":j,p=a.expandText,v=void 0===p?"Show path":p,m=a.itemsAfterCollapse,f=void 0===m?1:m,x=a.itemsBeforeCollapse,y=void 0===x?1:x,w=a.maxItems,S=void 0===w?8:w,k=a.separator,A=void 0===k?"/":k,E=Object(s.a)(a,["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),L=o.useState(!1),I=Object(n.a)(L,2),z=I[0],B=I[1],N=Object(i.a)({},a,{component:h,expanded:z,expandText:v,itemsAfterCollapse:f,itemsBeforeCollapse:y,maxItems:S,separator:A}),T=function(e){var t=e.classes;return Object(u.a)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},P,t)}(N),D=o.useRef(null),_=o.Children.toArray(c).filter((function(e){return o.isValidElement(e)})).map((function(e,t){return Object(O.jsx)("li",{className:T.li,children:e},"child-".concat(t))}));return Object(O.jsx)(C,Object(i.a)({ref:t,component:h,color:"text.secondary",className:Object(l.a)(T.root,d),styleProps:N},E,{children:Object(O.jsx)(R,{className:T.ol,ref:D,styleProps:N,children:M(z||S&&_.length<=S?_:function(e){return y+f>=e.length?e:[].concat(Object(r.a)(e.slice(0,y)),[Object(O.jsx)(g,{"aria-label":v,onClick:function(){B(!0);var e=D.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],Object(r.a)(e.slice(e.length-f,e.length)))}(_),T.separator,A,N)})}))}));t.a=A},671:function(e,t,a){"use strict";var r=a(4),n=a(6),c=a(2),s=a(0),i=a(11),o=a(299),l=a(517),u=a(9),d=a(551),b=a(104),j=a(7),h=a(478),p=a(518);function O(e){return Object(h.a)("MuiInputAdornment",e)}var v=Object(p.a)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),m=a(13),f=a(1),x=Object(j.a)("div",{},{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var a=e.styleProps;return Object(o.a)(Object(c.a)({},t["position".concat(Object(u.a)(a.position))],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]),t.root||{})}})((function(e){var t=e.theme,a=e.styleProps;return Object(c.a)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===a.variant&&Object(r.a)({},"&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")"),{marginTop:16}),"start"===a.position&&{marginRight:8},"end"===a.position&&{marginLeft:8},!0===a.disablePointerEvents&&{pointerEvents:"none"})})),g=s.forwardRef((function(e,t){var a=Object(m.a)({props:e,name:"MuiInputAdornment"}),r=a.children,o=a.className,j=a.component,h=void 0===j?"div":j,p=a.disablePointerEvents,v=void 0!==p&&p,g=a.disableTypography,y=void 0!==g&&g,w=a.position,P=a.variant,S=Object(n.a)(a,["children","className","component","disablePointerEvents","disableTypography","position","variant"]),C=Object(b.b)()||{},R=P;P&&C.variant,C&&!R&&(R=C.variant);var k=Object(c.a)({},a,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:v,position:w,variant:R}),M=function(e){var t=e.classes,a=e.disablePointerEvents,r=e.hiddenLabel,n=e.position,c=e.size,s=e.variant,i={root:["root",a&&"disablePointerEvents",n&&"position".concat(Object(u.a)(n)),s,r&&"hiddenLabel",c&&"size".concat(Object(u.a)(c))]};return Object(l.a)(i,O,t)}(k);return Object(f.jsx)(b.a.Provider,{value:null,children:Object(f.jsx)(x,Object(c.a)({as:h,styleProps:k,className:Object(i.a)(M.root,o),ref:t},S,{children:"string"!==typeof r||y?Object(f.jsxs)(s.Fragment,{children:["start"===w?Object(f.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,r]}):Object(f.jsx)(d.a,{color:"text.secondary",children:r})}))})}));t.a=g},918:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(22),n=a(19),c=a(18),s=a(12),i=a.n(s),o=a(219),l=a.n(o),u=a(145),d=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,[{key:"ws",get:function(){var e=new u.a;return l.a.create({baseURL:e.URL_DEV,headers:e.headerToken()})}},{key:"getAllDrivers",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/drivers",e.next=3,this.ws.get("/drivers");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDriverById",value:function(){var e=Object(r.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/drivers/".concat(t),e.next=3,this.ws.get(a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=32.cbf29a58.chunk.js.map